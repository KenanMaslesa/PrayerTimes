function setupMap(center){var map=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:center,zoom:12}),inputs=document.querySelectorAll(".map-style input");function switchLayer(layer){var layerId=layer.target.id;map.setStyle("mapbox://styles/mapbox/"+layerId)}for(var i=0;i<inputs.length;i++)inputs[i].onclick=switchLayer;function nightMap(){map.setStyle("mapbox://styles/mapbox/traffic-night-v2"),localStorage.setItem("isDay",!1),$(".local-time-wrapper").removeClass("day"),$("#table").css({backgroundColor:"#040d1d"}),$(".main-section").addClass("dark"),$(".form-control").removeClass("light"),$("meta[name='theme-color']").attr("content","#030c1d"),$("body").css({background:"#030c1d"}),$("#dark_theme").hide(),$("#light_theme").show(),$("#darkMode").addClass("active")}function dayMap(){map.setStyle("mapbox://styles/mapbox/streets-v11"),localStorage.setItem("isDay",!0),$(".local-time-wrapper").addClass("day"),$("#table").css({backgroundColor:"#0e313fd4"}),$(".main-section").removeClass("dark"),$(".form-control").addClass("light"),$("meta[name='theme-color']").attr("content","#0e3443"),$("body").css({background:"#0e3443"}),$("#dark_theme").show(),$("#light_theme").hide(),$("#darkMode").removeClass("active")}document.querySelector("#dark_theme").onclick=nightMap,document.querySelector("#light_theme").onclick=dayMap,map.on("click",(function(e){latitude=e.lngLat.lat,longitude=e.lngLat.lng,marker.setLngLat([longitude,latitude]),showPosition(method),localStorage.setItem("latitude",latitude),localStorage.setItem("longitude",longitude),$(".instructions").hide()}));var geocoder=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl,marker:!1,placeholder:"Search for places"});map.addControl(geocoder),map.on("load",(function(){geocoder.on("result",(function(ev){var coordinates=ev.result.center;longitude=coordinates[0],latitude=coordinates[1],marker.setLngLat([longitude,latitude]),showPosition(method),localStorage.setItem("latitude",latitude),localStorage.setItem("longitude",longitude)}))})),map.addControl(new mapboxgl.NavigationControl),map.addControl(new mapboxgl.FullscreenControl);var marker=new mapboxgl.Marker({draggable:!0}).setLngLat([longitude,latitude]).addTo(map);function onDragEnd(){var lngLat=marker.getLngLat();longitude=lngLat.lng,latitude=lngLat.lat,showPosition(method),localStorage.setItem("latitude",latitude),localStorage.setItem("longitude",longitude)}marker.on("dragend",onDragEnd)}mapboxgl.accessToken="pk.eyJ1Ijoia2VuYW5tYXNsZXNhIiwiYSI6ImNranVrZmJ3YzIwdWgyeWwxdnc0N3c1eWEifQ.NU5jwn8auapNwbJVrjKTfg";